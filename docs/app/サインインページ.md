# サインインページ

## 1. 概要

- ユーザーがメールアドレス・パスワードでサインインするためのページ。既に認証済みのユーザーは役割に応じたページへリダイレクトし、認証していないユーザーのみフォームを表示する。

## 2. URL・ルーティング

- Path： `/signin`
- クエリパラメータ：
  - `callbackUrl`（任意）
    - 成功後にリダイレクトしたい先のURLを指定
    - 配列の場合は先頭要素を使用

## 3. レンダリング方式

- `SignInPage`：サーバーコンポーネント

## 4. 実行内容

1. `auth()` でセッションを取得
2. セッションあり → ユーザーの role によって分岐

   - role !== `ADMIN`

     - `callbackUrl` が `/admin` で始まる → エラーをスロー → `/account/error` に遷移
     - 上記以外 → `/todo` へリダイレクト

   - role === `ADMIN`
     - `callbackUrl` があればそこへ、なければ `/admin` へリダイレクト
